{"version":3,"sources":["FuForm.module.css","FuResultsModal.module.css","App.module.css","Types.tsx","calculateFu.tsx","FuForm.tsx","FuResultsModal.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","MeldTypes","WaitTypes","calculateFu","wonByChiitoi","melds","wait","misc","wonWithTsumo","wonWithClosedRon","wonWithYakuhaiPair","wonWithDoubleYakuhaiPair","fu","forEach","type","isOpen","isSimple","QUAD","TRIPLET","SEQUENCE_TWO_SIDED","every","meld","DEFAULT_MELD","SEQUENCE","MeldPicker","setMeld","title","createAndSetMeld","createProps","className","styles","activeButton","onClick","meldTitle","meldOptions","meldOpenOption","meldOpenText","meldOpenTextActive","join","meldClosedText","WaitPicker","setWait","waitOptions","SEQUENCE_ONE_SIDED","SEQUENCE_GAP","PAIR","FuForm","submitFu","React","useState","setWonByChiitoi","meld1","setMeld1","meld2","setMeld2","meld3","setMeld3","meld4","setMeld4","setWonWithTsumo","setWonWithClosedRon","setWonWithYakuhaiPair","setWonWithDoubleYakuhaiPair","isReady","useMemo","isValidMeld","resetForm","chiitoiButtonsContainer","chiitoiButton","miscOptions","miscCheckbox","miscCheckboxChecked","spacer","floatingContainer","floatingBox","floatingBoxHide","submitHandler","getScoringString","han","isDealer","roundUp","num","Math","ceil","basicPoints","FuResultsModal","closeHandler","roundedUpFu","useEffect","document","body","style","overflow","content","fuHeader","scoringTable","options","closeOption","closeAndResetOption","App","setFu","isModalOpen","setIsModalOpen","resetFormRef","useRef","app","calculatedFu","resetHandler","current","resultModalContainer","resultModalContainerHidden","clearForm","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5c3e49d8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chiitoiButtonsContainer\":\"FuForm_chiitoiButtonsContainer__3g2Q6\",\"chiitoiButton\":\"FuForm_chiitoiButton__2q679\",\"activeButton\":\"FuForm_activeButton__2TPFJ\",\"meldTitle\":\"FuForm_meldTitle__rlyxk\",\"meldOptions\":\"FuForm_meldOptions__31BG6\",\"waitOptions\":\"FuForm_waitOptions__3UoZZ\",\"meldOpenOption\":\"FuForm_meldOpenOption__O7UPd\",\"meldOpenText\":\"FuForm_meldOpenText__2NHyo\",\"meldClosedText\":\"FuForm_meldClosedText__23wFK\",\"meldOpenTextActive\":\"FuForm_meldOpenTextActive__2N8pg\",\"miscOptions\":\"FuForm_miscOptions__1M9g-\",\"miscCheckbox\":\"FuForm_miscCheckbox__1N-T1\",\"miscCheckboxChecked\":\"FuForm_miscCheckboxChecked__3dm8r\",\"submitButton\":\"FuForm_submitButton__23vY9\",\"floatingContainer\":\"FuForm_floatingContainer__4joIx\",\"floatingBox\":\"FuForm_floatingBox__kx2s_\",\"floatingBoxHide\":\"FuForm_floatingBoxHide__apa7a\",\"spacer\":\"FuForm_spacer__MlICl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"FuResultsModal_content__2mtXR\",\"fuHeader\":\"FuResultsModal_fuHeader__7Rocb\",\"scoringTable\":\"FuResultsModal_scoringTable__2cooY\",\"options\":\"FuResultsModal_options__3V-OC\",\"closeOption\":\"FuResultsModal_closeOption__1VG0t\",\"closeAndResetOption\":\"FuResultsModal_closeAndResetOption__1w2_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"resultModalContainer\":\"App_resultModalContainer__2rjd_\",\"resultModalContainerHidden\":\"App_resultModalContainerHidden__2dj_X\"};","export enum MeldTypes {\n  SEQUENCE = 1,\n  TRIPLET = 2,\n  QUAD = 3\n}\n\nexport enum WaitTypes {\n  SEQUENCE_TWO_SIDED = 1,\n  SEQUENCE_ONE_SIDED = 2,\n  SEQUENCE_GAP = 3,\n  PAIR = 4,\n  TRIPLET = 5,\n}\n\nexport interface Meld {\n  type: MeldTypes;\n  isOpen: boolean;\n  isSimple: boolean;\n}\n","import {MeldTypes, WaitTypes, Meld} from './Types'\n\ninterface CalculateFuArgumentInterface {\n  wonByChiitoi: boolean | null;\n  melds: [Meld, Meld, Meld, Meld];\n  wait: WaitTypes | null;\n  misc: {\n    wonWithTsumo: boolean;\n    wonWithClosedRon: boolean;\n    wonWithYakuhaiPair: boolean;\n    wonWithDoubleYakuhaiPair: boolean;\n  }\n}\n\nconst calculateFu = ({\n  wonByChiitoi,\n  melds,\n  wait,\n  misc: {\n    wonWithTsumo,\n    wonWithClosedRon,\n    wonWithYakuhaiPair,\n    wonWithDoubleYakuhaiPair,\n  }\n}: CalculateFuArgumentInterface) => {\n  if (wonByChiitoi) {\n    return 25;\n  }\n\n  let fu = 20;\n  melds.forEach(({type, isOpen, isSimple}) => {\n    if (type === MeldTypes.QUAD) {\n      if (isOpen) {\n        fu += isSimple ? 8 : 16\n      } else {\n        fu += isSimple ? 16 : 32\n      }\n    } else if (type === MeldTypes.TRIPLET) {\n      if (isOpen) {\n        fu += isSimple ? 2 : 4\n      } else {\n        fu += isSimple ? 4 : 8\n      }\n    }\n  });\n\n  if (fu === 20 && !wonWithYakuhaiPair) {\n    // this is pinfu!\n    if (wonWithTsumo && melds.every(meld => !meld.isOpen)) {\n      return 20;\n    } else {\n      // open pinfu\n      return 30;\n    }\n  }\n\n  if (wait !== WaitTypes.SEQUENCE_TWO_SIDED && wait !== WaitTypes.TRIPLET) {\n    fu += 2;\n  }\n\n  if (wonWithTsumo) {\n    fu += 2;\n  }\n\n  if (wonWithClosedRon) {\n    fu += 10;\n  }\n\n  if (wonWithYakuhaiPair) {\n    fu += 2;\n\n    if (wonWithDoubleYakuhaiPair) {\n      fu += 2;\n    }\n  }\n\n  return fu;\n}\n\nexport default calculateFu;","import React from 'react';\nimport styles from './FuForm.module.css';\nimport {MeldTypes, WaitTypes, Meld} from './Types'\nimport calculateFu from './calculateFu';\n\nconst DEFAULT_MELD = {\n  type: MeldTypes.SEQUENCE,\n  isOpen: false,\n  isSimple: false,\n}\n\nconst isValidMeld = (meld: Meld) => {\n  return meld.type !== DEFAULT_MELD.type || meld.isOpen !== DEFAULT_MELD.isOpen || meld.isSimple !== DEFAULT_MELD.isSimple;\n}\n\n\ntype MeldPickerProps = {\n  meld: Meld;\n  setMeld: (meld: Meld) => unknown;\n  title: string;\n}\n\nconst MeldPicker = ({meld, setMeld, title}: MeldPickerProps) => {\n  const createAndSetMeld = (type: MeldTypes, isSimple: boolean, isOpen: boolean) => {\n    setMeld({\n      type,\n      isSimple,\n      isOpen\n    });\n  }\n\n  const createProps = (type: MeldTypes, isSimple: boolean) => {\n    return {\n      className: meld.type === type && meld.isSimple === isSimple ? styles.activeButton : '',\n      onClick: () => createAndSetMeld(type, isSimple, meld.isOpen)\n    }\n  }\n\n  return (\n    <>\n      <p className={styles.meldTitle}>{title}</p>\n      <div className={styles.meldOptions}>\n        <div {...createProps(MeldTypes.TRIPLET, true)}>Triplet (Simple)</div>\n        <div {...createProps(MeldTypes.TRIPLET, false)}>Triplet (H / T)</div>\n        <div {...createProps(MeldTypes.QUAD, true)}>Quad (Simple)</div>\n        <div {...createProps(MeldTypes.QUAD, false)}>Quad (H / T)</div>\n        <div {...createProps(MeldTypes.SEQUENCE, true)}>Sequence</div>\n        <div className={styles.meldOpenOption} onClick={() => createAndSetMeld(meld.type, meld.isSimple, !meld.isOpen)}>\n          <span className={[styles.meldOpenText, meld.isOpen && styles.meldOpenTextActive].join(' ')}>Open</span>\n          <span className={[styles.meldClosedText, !meld.isOpen && styles.meldOpenTextActive].join(' ')}>Closed</span>\n        </div>\n      </div>\n    </>\n  )\n}\n\ntype WaitPickerProps = {\n  wait: WaitTypes | null,\n  setWait: (wait: WaitTypes) => unknown,\n}\n\nconst WaitPicker = ({wait, setWait}: WaitPickerProps) => {\n  const createProps = (type: WaitTypes) => {\n    return {\n      className: wait === type ? styles.activeButton : '',\n      onClick: () => setWait(type)\n    }\n  }\n\n  return (\n    <div className={styles.waitOptions}>\n      <div {...createProps(WaitTypes.SEQUENCE_TWO_SIDED)}>Two-sided Sequence Wait</div>\n      <div {...createProps(WaitTypes.SEQUENCE_ONE_SIDED)}>One-sided Sequence Wait</div>\n      <div {...createProps(WaitTypes.SEQUENCE_GAP)}>Gap Sequence Wait</div>\n      <div {...createProps(WaitTypes.PAIR)}>Pair Wait</div>\n      <div {...createProps(WaitTypes.TRIPLET)}>Triplet Wait</div>\n    </div>\n  )\n}\n\ntype FuFormProps = {\n  submitFu: (fu: number, resetHandler: () => unknown) => unknown;\n}\n\nconst FuForm = ({submitFu}: FuFormProps) => {\n  const [wonByChiitoi, setWonByChiitoi] = React.useState<boolean | null>(null);\n  const [meld1, setMeld1] = React.useState<Meld>({...DEFAULT_MELD});\n  const [meld2, setMeld2] = React.useState<Meld>({...DEFAULT_MELD});\n  const [meld3, setMeld3] = React.useState<Meld>({...DEFAULT_MELD});\n  const [meld4, setMeld4] = React.useState<Meld>({...DEFAULT_MELD});\n  const [wait, setWait] = React.useState<WaitTypes | null>(null);\n  const [wonWithTsumo, setWonWithTsumo] = React.useState<boolean>(false);\n  const [wonWithClosedRon, setWonWithClosedRon] = React.useState<boolean>(false);\n  const [wonWithYakuhaiPair, setWonWithYakuhaiPair] = React.useState<boolean>(false);\n  const [wonWithDoubleYakuhaiPair, setWonWithDoubleYakuhaiPair] = React.useState<boolean>(false);\n\n  const isReady = React.useMemo(() => {\n    const melds = [meld1, meld2, meld3, meld4];\n\n    if (wonByChiitoi == null) {\n      return false;\n    } else if (wonByChiitoi === true) {\n      return true;\n    } else {\n      return melds.every(meld => isValidMeld(meld)) && wait != null\n    }\n  }, [meld1, meld2, meld3, meld4, wonByChiitoi, wait]);\n\n  const resetForm = () => {\n    setWonByChiitoi(null);\n    setMeld1({...DEFAULT_MELD})\n    setMeld2({...DEFAULT_MELD})\n    setMeld3({...DEFAULT_MELD})\n    setMeld4({...DEFAULT_MELD})\n    setWait(null);\n    setWonWithTsumo(false);\n    setWonWithClosedRon(false);\n    setWonWithYakuhaiPair(false);\n    setWonWithDoubleYakuhaiPair(false);\n  }\n\n  const submitHandler = () => {\n    if (!isReady) {\n      return;\n    }\n\n    const fu = calculateFu({\n      wonByChiitoi,\n      melds: [meld1, meld2, meld3, meld4],\n      wait: wait,\n      misc: {\n        wonWithTsumo,\n        wonWithClosedRon,\n        wonWithYakuhaiPair,\n        wonWithDoubleYakuhaiPair\n      },\n    });\n\n    submitFu(fu, resetForm);\n  }\n\n  const renderMainForm = () => {\n    return (\n      <>\n        <p>What were your melds?</p>\n        <MeldPicker meld={meld1} setMeld={setMeld1} title={'First Meld'} />\n        <MeldPicker meld={meld2} setMeld={setMeld2} title={'Second Meld'} />\n        <MeldPicker meld={meld3} setMeld={setMeld3} title={'Third Meld'} />\n        <MeldPicker meld={meld4} setMeld={setMeld4} title={'Fourth Meld'} />\n        <hr></hr>\n        <p>What was your wait?</p>\n        <WaitPicker wait={wait} setWait={setWait} />\n        <hr></hr>\n        <p>Misc. - Pick all that apply</p>\n        <div className={styles.miscOptions}>\n          <div onClick={() => {\n            setWonWithTsumo(!wonWithTsumo);\n            if (wonWithClosedRon) {\n              setWonWithClosedRon(false);\n            }\n          }}>\n            <div className={[styles.miscCheckbox, wonWithTsumo && styles.miscCheckboxChecked].join(' ')}></div>\n            <span>Won via Tsumo</span>\n          </div>\n          <div onClick={() => {\n            setWonWithClosedRon(!wonWithClosedRon);\n            if (wonWithTsumo) {\n              setWonWithTsumo(false);\n            }\n          }}>\n            <div className={[styles.miscCheckbox, wonWithClosedRon && styles.miscCheckboxChecked].join(' ')}></div>\n            <span>Won via Ron with a Closed Hand</span>\n          </div>\n          <div onClick={() => setWonWithYakuhaiPair(!wonWithYakuhaiPair)}>\n            <div className={[styles.miscCheckbox, wonWithYakuhaiPair && styles.miscCheckboxChecked].join(' ')}></div>\n            <span>Yakuhai Pair</span>\n          </div>\n          {wonWithYakuhaiPair && (\n            <div onClick={() => setWonWithDoubleYakuhaiPair(!wonWithDoubleYakuhaiPair)}>\n              <div className={[styles.miscCheckbox, wonWithDoubleYakuhaiPair && styles.miscCheckboxChecked].join(' ')}></div>\n              <span>Yakuhai Pair is both Round and Seat Wind</span>\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div>\n      <p>Did you win by Chiitoi?</p>\n      <div className={styles.chiitoiButtonsContainer}>\n        <div\n          className={[styles.chiitoiButton, wonByChiitoi === true && styles.activeButton].join(' ')}\n          onClick={() => setWonByChiitoi(true)}>\n          Yes\n        </div>\n        <div\n          className={[styles.chiitoiButton, wonByChiitoi === false && styles.activeButton].join(' ')}\n          onClick={() => setWonByChiitoi(false)}>\n          No\n        </div>\n      </div>\n      {wonByChiitoi === false && <>\n        <hr></hr>\n        {renderMainForm()}\n      </>}\n      <div className={styles.spacer}></div>\n      <div className={styles.floatingContainer}>\n        <div\n          className={[styles.floatingBox, !isReady && styles.floatingBoxHide].join(' ')}\n          onClick={() => submitHandler()}\n        >\n          Calculate\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default FuForm;","import React from 'react';\nimport styles from './FuResultsModal.module.css';\n\n\nconst getScoringString = (fu: number, han: number, isDealer: boolean) => {\n  if (fu >= 70 && han === 3) {\n    return 'Mangan';\n  } else if (fu >= 40 && han === 4) {\n    return 'Mangan';\n  }\n\n  const roundUp = (num: number) => {\n    return Math.ceil(num / 100) * 100;\n  }\n\n  const basicPoints = (fu * 2**(2 + han));\n\n  if (isDealer) {\n    return `${roundUp(basicPoints * 6)} (${roundUp(basicPoints * 2)})`\n  } else {\n    return `${roundUp(basicPoints * 4)} (${roundUp(basicPoints)}/${roundUp(basicPoints * 2)})`;\n  }\n\n}\n\ntype FuResultsModalProps = {\n  fu: number;\n  closeHandler: (clearForm: boolean) => unknown\n}\n\nfunction FuResultsModal({fu, closeHandler}: FuResultsModalProps) {\n  const roundedUpFu = (fu === 25 ? 25 : Math.ceil(fu / 10) * 10)\n\n  React.useEffect(() => {\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.body.style.overflow = 'auto';\n    }\n  }, []);\n\n  return (\n    <div className={styles.content}>\n      <p className={styles.fuHeader}>{fu} → {roundedUpFu} Fu</p>\n      <hr />\n      <div className={styles.scoringTable}>\n        <div className=\"col\">\n          <p> </p>\n          <p>1 Han</p>\n          <p>2 Han</p>\n          <p>3 Han</p>\n          <p>4 Han</p>\n        </div>\n        <div className=\"col\">\n          <p>Dealer:</p>\n          <p>{getScoringString(roundedUpFu, 1, true)}</p>\n          <p>{getScoringString(roundedUpFu, 2, true)}</p>\n          <p>{getScoringString(roundedUpFu, 3, true)}</p>\n          <p>{getScoringString(roundedUpFu, 4, true)}</p>\n        </div>\n        <div className=\"col\">\n          <p>Non-Dealer:</p>\n          <p>{getScoringString(roundedUpFu, 1, false)}</p>\n          <p>{getScoringString(roundedUpFu, 2, false)}</p>\n          <p>{getScoringString(roundedUpFu, 3, false)}</p>\n          <p>{getScoringString(roundedUpFu, 4, false)}</p>\n        </div>\n      </div>\n      <hr />\n      <div className={styles.options}>\n        <div className={styles.closeOption} onClick={() => closeHandler(false)}>Close</div>\n        <div className={styles.closeAndResetOption} onClick={() => closeHandler(true)}>Close + Reset</div>\n      </div>\n    </div>\n  );\n}\n\nexport default FuResultsModal;\n","import React from 'react';\nimport styles from './App.module.css';\nimport FuForm from './FuForm';\nimport FuResultsModal from './FuResultsModal';\n\nfunction App() {\n  const [fu, setFu] = React.useState<number>(0);\n  const [isModalOpen, setIsModalOpen] = React.useState<boolean>(false);\n  const resetFormRef = React.useRef<() => unknown | null>()\n\n  const formHandler = (calculatedFu: number, resetHandler: () => unknown) => {\n    resetFormRef.current = resetHandler;\n    setFu(calculatedFu);\n    setIsModalOpen(true);\n  }\n\n  const closeHandler = (clearForm: boolean) => {\n    setIsModalOpen(false);\n    if (clearForm) {\n      resetFormRef.current?.();\n    }\n  }\n\n  return (\n    <div className={styles.app}>\n      <FuForm submitFu={formHandler} />\n      <div className={[styles.resultModalContainer, !isModalOpen && styles.resultModalContainerHidden].join(' ')}>\n        {isModalOpen && <FuResultsModal fu={fu} closeHandler={closeHandler} />}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}