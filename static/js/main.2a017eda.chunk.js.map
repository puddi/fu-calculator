{"version":3,"sources":["FuForm.module.css","FuResultsModal.module.css","App.module.css","Types.tsx","calculateFu.tsx","FuForm.tsx","FuResultsModal.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","MeldTypes","WaitTypes","calculateFu","wonByChiitoi","melds","wait","misc","wonWithTsumo","wonWithClosedRon","wonWithYakuhaiPair","wonWithDoubleYakuhaiPair","fu","forEach","type","isOpen","isSimple","QUAD","TRIPLET","SEQUENCE_TWO_SIDED","every","meld","DEFAULT_MELD","SEQUENCE","SEQUENCE_WAITS","SEQUENCE_ONE_SIDED","SEQUENCE_GAP","MeldPicker","setMeld","title","createAndSetMeld","createTypeProps","className","styles","activeButton","onClick","meldTitle","meldTypes","meldOptions","spacer","meldOpenOption","meldOptionText","meldOptionTextActive","join","meldSimpleOption","meldSimpleOptionHidden","WaitPicker","setWait","allSequences","noSequences","createProps","shouldBeDisabled","includes","disabled","waitOptions","PAIR","FuForm","submitFu","React","useState","setWonByChiitoi","meld1","setMeld1","meld2","setMeld2","meld3","setMeld3","meld4","setMeld4","setWonWithTsumo","setWonWithClosedRon","setWonWithYakuhaiPair","setWonWithDoubleYakuhaiPair","isReady","handCouldBeClosed","filter","length","resetForm","useEffect","chiitoiButtonsContainer","chiitoiButton","subnote","miscOptions","miscCheckbox","miscCheckboxChecked","floatingContainer","floatingBox","floatingBoxHide","submitHandler","getScoringString","han","isDealer","roundUp","num","Math","ceil","basicPoints","FuResultsModal","closeHandler","roundedUpFu","document","body","style","overflow","content","fuHeader","scoringTable","options","closeOption","closeAndResetOption","App","setFu","isModalOpen","setIsModalOpen","resetFormRef","useRef","app","calculatedFu","resetHandler","current","resultModalContainer","resultModalContainerHidden","clearForm","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2a017eda.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"FuForm_button__HL7v7\",\"activeButton\":\"FuForm_activeButton__2TPFJ\",\"chiitoiButtonsContainer\":\"FuForm_chiitoiButtonsContainer__3g2Q6\",\"chiitoiButton\":\"FuForm_chiitoiButton__2q679\",\"subnote\":\"FuForm_subnote__2SlDB\",\"meldTitle\":\"FuForm_meldTitle__rlyxk\",\"meldTypes\":\"FuForm_meldTypes__17Dpy\",\"meldOptions\":\"FuForm_meldOptions__31BG6\",\"spacer\":\"FuForm_spacer__MlICl\",\"meldOptionText\":\"FuForm_meldOptionText__2xcbe\",\"meldOptionTextActive\":\"FuForm_meldOptionTextActive__1izmn\",\"meldSimpleOption\":\"FuForm_meldSimpleOption__HMnKM\",\"meldSimpleOptionHidden\":\"FuForm_meldSimpleOptionHidden__kGVXQ\",\"waitOptions\":\"FuForm_waitOptions__3UoZZ\",\"miscOptions\":\"FuForm_miscOptions__1M9g-\",\"miscCheckbox\":\"FuForm_miscCheckbox__1N-T1\",\"miscCheckboxChecked\":\"FuForm_miscCheckboxChecked__3dm8r\",\"submitButton\":\"FuForm_submitButton__23vY9\",\"floatingContainer\":\"FuForm_floatingContainer__4joIx\",\"floatingBox\":\"FuForm_floatingBox__kx2s_\",\"floatingBoxHide\":\"FuForm_floatingBoxHide__apa7a\",\"disabled\":\"FuForm_disabled__1G9Mz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"FuResultsModal_content__2mtXR\",\"fuHeader\":\"FuResultsModal_fuHeader__7Rocb\",\"scoringTable\":\"FuResultsModal_scoringTable__2cooY\",\"options\":\"FuResultsModal_options__3V-OC\",\"closeOption\":\"FuResultsModal_closeOption__1VG0t\",\"closeAndResetOption\":\"FuResultsModal_closeAndResetOption__1w2_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"resultModalContainer\":\"App_resultModalContainer__2rjd_\",\"resultModalContainerHidden\":\"App_resultModalContainerHidden__2dj_X\"};","export enum MeldTypes {\n  SEQUENCE = 1,\n  TRIPLET = 2,\n  QUAD = 3\n}\n\nexport enum WaitTypes {\n  SEQUENCE_TWO_SIDED = 1,\n  SEQUENCE_ONE_SIDED = 2,\n  SEQUENCE_GAP = 3,\n  PAIR = 4,\n  TRIPLET = 5,\n}\n\nexport interface Meld {\n  type: MeldTypes;\n  isOpen: boolean;\n  isSimple: boolean;\n}\n","import {MeldTypes, WaitTypes, Meld} from './Types'\n\ninterface CalculateFuArgumentInterface {\n  wonByChiitoi: boolean | null;\n  melds: [Meld, Meld, Meld, Meld];\n  wait: WaitTypes | null;\n  misc: {\n    wonWithTsumo: boolean;\n    wonWithClosedRon: boolean;\n    wonWithYakuhaiPair: boolean;\n    wonWithDoubleYakuhaiPair: boolean;\n  }\n}\n\nconst calculateFu = ({\n  wonByChiitoi,\n  melds,\n  wait,\n  misc: {\n    wonWithTsumo,\n    wonWithClosedRon,\n    wonWithYakuhaiPair,\n    wonWithDoubleYakuhaiPair,\n  }\n}: CalculateFuArgumentInterface) => {\n  if (wonByChiitoi) {\n    return 25;\n  }\n\n  let fu = 20;\n  melds.forEach(({type, isOpen, isSimple}) => {\n    if (type === MeldTypes.QUAD) {\n      if (isOpen) {\n        fu += isSimple ? 8 : 16\n      } else {\n        fu += isSimple ? 16 : 32\n      }\n    } else if (type === MeldTypes.TRIPLET) {\n      if (isOpen) {\n        fu += isSimple ? 2 : 4\n      } else {\n        fu += isSimple ? 4 : 8\n      }\n    }\n  });\n\n  if (fu === 20 && !wonWithYakuhaiPair) {\n    // this is pinfu!\n    if (wonWithTsumo && melds.every(meld => !meld.isOpen)) {\n      return 20;\n    } else {\n      // open pinfu\n      return 30;\n    }\n  }\n\n  if (wait !== WaitTypes.SEQUENCE_TWO_SIDED && wait !== WaitTypes.TRIPLET) {\n    fu += 2;\n  }\n\n  if (wonWithTsumo) {\n    fu += 2;\n  }\n\n  if (wonWithClosedRon) {\n    fu += 10;\n  }\n\n  if (wonWithYakuhaiPair) {\n    fu += 2;\n\n    if (wonWithDoubleYakuhaiPair) {\n      fu += 2;\n    }\n  }\n\n  return fu;\n}\n\nexport default calculateFu;","import React from 'react';\nimport styles from './FuForm.module.css';\nimport {MeldTypes, WaitTypes, Meld} from './Types'\nimport calculateFu from './calculateFu';\n\nconst DEFAULT_MELD = {\n  type: MeldTypes.SEQUENCE,\n  isOpen: false,\n  isSimple: true,\n}\n\nconst SEQUENCE_WAITS = [WaitTypes.SEQUENCE_TWO_SIDED, WaitTypes.SEQUENCE_ONE_SIDED, WaitTypes.SEQUENCE_GAP];\n\nconst isValidMeld = (meld: Meld) => {\n  return meld.type !== DEFAULT_MELD.type || meld.isOpen !== DEFAULT_MELD.isOpen || meld.isSimple !== DEFAULT_MELD.isSimple;\n}\n\n\ntype MeldPickerProps = {\n  meld: Meld;\n  setMeld: (meld: Meld) => unknown;\n  title: string;\n}\n\nconst MeldPicker = ({meld, setMeld, title}: MeldPickerProps) => {\n  const createAndSetMeld = (type: MeldTypes, isSimple: boolean, isOpen: boolean) => {\n    setMeld({\n      type,\n      isSimple,\n      isOpen\n    });\n  }\n\n  const createTypeProps = (type: MeldTypes) => {\n    return {\n      className: meld.type === type ? styles.activeButton : '',\n      onClick: () => createAndSetMeld(type, meld.isSimple, meld.isOpen)\n    }\n  }\n\n  return (\n    <>\n      <p className={styles.meldTitle}>{title}</p>\n      <div className={styles.meldTypes}>\n        <div {...createTypeProps(MeldTypes.SEQUENCE)}>Sequence</div>\n        <div {...createTypeProps(MeldTypes.TRIPLET)}>Triplet</div>\n        <div {...createTypeProps(MeldTypes.QUAD)}>Quad</div>\n      </div>\n      <div className={styles.meldOptions}>\n        <div className={styles.spacer}></div>\n        <div className={styles.meldOpenOption} onClick={() => createAndSetMeld(meld.type, meld.isSimple, !meld.isOpen)}>\n          <span className={[styles.meldOptionText, meld.isOpen && styles.meldOptionTextActive].join(' ')}>Open</span>\n          <span className={[styles.meldOptionText, !meld.isOpen && styles.meldOptionTextActive].join(' ')}>Closed</span>\n        </div>\n        <div\n          className={[styles.meldSimpleOption, meld.type == MeldTypes.SEQUENCE && styles.meldSimpleOptionHidden].join(' ')}\n          onClick={() => createAndSetMeld(meld.type, !meld.isSimple, meld.isOpen)}\n        >\n          <span className={[styles.meldOptionText, meld.isSimple && styles.meldOptionTextActive].join(' ')}>Simple</span>\n          <span className={[styles.meldOptionText, !meld.isSimple && styles.meldOptionTextActive].join(' ')}>H / T</span>\n        </div>\n      </div>\n    </>\n  )\n}\n\ntype WaitPickerProps = {\n  wait: WaitTypes | null,\n  setWait: (wait: WaitTypes) => unknown,\n  allSequences: boolean,\n  noSequences: boolean,\n}\n\nconst WaitPicker = ({wait, setWait, allSequences, noSequences}: WaitPickerProps) => {\n\n  const createProps = (type: WaitTypes) => {\n    const shouldBeDisabled = (\n      (SEQUENCE_WAITS.includes(type) && noSequences) ||\n      (type === WaitTypes.TRIPLET && allSequences)\n    );\n\n    return {\n      className: [\n        wait === type ? styles.activeButton : '',\n        shouldBeDisabled ? styles.disabled : '',\n      ].join(' '),\n      onClick: () => {\n        if (shouldBeDisabled) {\n          return;\n        }\n        setWait(type)\n      }\n    }\n  }\n\n  return (\n    <div className={styles.waitOptions}>\n      <div {...createProps(WaitTypes.SEQUENCE_TWO_SIDED, )}>Two-sided Sequence Wait</div>\n      <div {...createProps(WaitTypes.SEQUENCE_ONE_SIDED)}>One-sided Sequence Wait</div>\n      <div {...createProps(WaitTypes.SEQUENCE_GAP)}>Gap Sequence Wait</div>\n      <div {...createProps(WaitTypes.PAIR)}>Pair Wait</div>\n      <div {...createProps(WaitTypes.TRIPLET)}>Triplet Wait</div>\n    </div>\n  )\n}\n\ntype FuFormProps = {\n  submitFu: (fu: number, resetHandler: () => unknown) => unknown;\n}\n\nconst FuForm = ({submitFu}: FuFormProps) => {\n  const [wonByChiitoi, setWonByChiitoi] = React.useState<boolean | null>(null);\n  const [meld1, setMeld1] = React.useState<Meld>({...DEFAULT_MELD});\n  const [meld2, setMeld2] = React.useState<Meld>({...DEFAULT_MELD});\n  const [meld3, setMeld3] = React.useState<Meld>({...DEFAULT_MELD});\n  const [meld4, setMeld4] = React.useState<Meld>({...DEFAULT_MELD});\n  const [wait, setWait] = React.useState<WaitTypes | null>(null);\n  const [wonWithTsumo, setWonWithTsumo] = React.useState<boolean>(false);\n  const [wonWithClosedRon, setWonWithClosedRon] = React.useState<boolean>(false);\n  const [wonWithYakuhaiPair, setWonWithYakuhaiPair] = React.useState<boolean>(false);\n  const [wonWithDoubleYakuhaiPair, setWonWithDoubleYakuhaiPair] = React.useState<boolean>(false);\n\n  const isReady = (wonByChiitoi != null && (wonByChiitoi === false ? wait != null : true));\n\n  const melds = [meld1, meld2, meld3, meld4];\n  const allSequences = melds.every(meld => meld.type === MeldTypes.SEQUENCE);\n  const noSequences = melds.every(meld => meld.type !== MeldTypes.SEQUENCE);\n  const handCouldBeClosed = melds.filter(meld => meld.isOpen).length <= 1;\n\n  const resetForm = () => {\n    setWonByChiitoi(null);\n    setMeld1({...DEFAULT_MELD})\n    setMeld2({...DEFAULT_MELD})\n    setMeld3({...DEFAULT_MELD})\n    setMeld4({...DEFAULT_MELD})\n    setWait(null);\n    setWonWithTsumo(false);\n    setWonWithClosedRon(false);\n    setWonWithYakuhaiPair(false);\n    setWonWithDoubleYakuhaiPair(false);\n  }\n\n  const submitHandler = () => {\n    if (!isReady) {\n      return;\n    }\n\n    const fu = calculateFu({\n      wonByChiitoi,\n      melds: [meld1, meld2, meld3, meld4],\n      wait: wait,\n      misc: {\n        wonWithTsumo,\n        wonWithClosedRon,\n        wonWithYakuhaiPair,\n        wonWithDoubleYakuhaiPair\n      },\n    });\n\n    submitFu(fu, resetForm);\n  }\n\n  // update waits and misc if melds make them impossible.\n  React.useEffect(() => {\n    if (wait != null) {\n      if (noSequences && SEQUENCE_WAITS.includes(wait)) {\n        setWait(null);\n      } else if (allSequences && wait === WaitTypes.TRIPLET) {\n        setWait(null);\n      }\n    }\n  }, [meld1, meld2, meld3, meld4])\n\n  const renderMainForm = () => {\n    const melds = [meld1, meld2, meld3, meld4];\n\n    return (\n      <>\n        <p>What were your melds?</p>\n        <p className={styles.subnote}>Remember - completing a meld via Ron means it's open!</p>\n        <MeldPicker meld={meld1} setMeld={setMeld1} title={'First Meld'} />\n        <MeldPicker meld={meld2} setMeld={setMeld2} title={'Second Meld'} />\n        <MeldPicker meld={meld3} setMeld={setMeld3} title={'Third Meld'} />\n        <MeldPicker meld={meld4} setMeld={setMeld4} title={'Fourth Meld'} />\n        <hr></hr>\n        <p>What was your wait?</p>\n        <WaitPicker wait={wait} setWait={setWait} allSequences={allSequences} noSequences={noSequences} />\n        <hr></hr>\n        <p>Misc. - Pick all that apply</p>\n        <div className={styles.miscOptions}>\n          <div\n            onClick={() => {\n              setWonWithTsumo(!wonWithTsumo);\n              if (wonWithClosedRon) {\n                setWonWithClosedRon(false);\n              }\n            }\n          }>\n            <div className={[styles.miscCheckbox, wonWithTsumo && styles.miscCheckboxChecked].join(' ')}></div>\n            <span>Won via Tsumo</span>\n          </div>\n          <div\n            className={!handCouldBeClosed ? styles.disabled : ''}\n            onClick={() => {\n              if (!handCouldBeClosed) {\n                return;\n              }\n\n              setWonWithClosedRon(!wonWithClosedRon);\n              if (wonWithTsumo) {\n                setWonWithTsumo(false);\n              }\n            }}\n          >\n            <div className={[styles.miscCheckbox, wonWithClosedRon && styles.miscCheckboxChecked].join(' ')}></div>\n            <span>Won via Ron with a Closed Hand</span>\n          </div>\n          <div onClick={() => {\n            if (wonWithYakuhaiPair) {\n              setWonWithDoubleYakuhaiPair(false);\n            }\n            setWonWithYakuhaiPair(!wonWithYakuhaiPair);\n          }}>\n            <div className={[styles.miscCheckbox, wonWithYakuhaiPair && styles.miscCheckboxChecked].join(' ')}></div>\n            <span>Yakuhai Pair</span>\n          </div>\n          <div\n            className={!wonWithYakuhaiPair ? styles.disabled : ''}\n            onClick={() => {\n              if (!wonWithYakuhaiPair) {\n                return;\n              }\n              setWonWithDoubleYakuhaiPair(!wonWithDoubleYakuhaiPair)\n            }}\n          >\n            <div className={[styles.miscCheckbox, wonWithDoubleYakuhaiPair && styles.miscCheckboxChecked].join(' ')}></div>\n            <span>Yakuhai Pair is both Round and Seat Wind</span>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div>\n      <p>Did you win by Chiitoi?</p>\n      <div className={styles.chiitoiButtonsContainer}>\n        <div\n          className={[styles.chiitoiButton, wonByChiitoi === true && styles.activeButton].join(' ')}\n          onClick={() => setWonByChiitoi(wonByChiitoi === true ? null : true)}>\n          Yes\n        </div>\n        <div\n          className={[styles.chiitoiButton, wonByChiitoi === false && styles.activeButton].join(' ')}\n          onClick={() => setWonByChiitoi(wonByChiitoi === false ? null : false)}>\n          No\n        </div>\n      </div>\n      {wonByChiitoi === false && <>\n        <hr></hr>\n        {renderMainForm()}\n      </>}\n      <div className={styles.spacer}></div>\n      <div className={styles.floatingContainer}>\n        <div\n          className={[styles.floatingBox, !isReady && styles.floatingBoxHide].join(' ')}\n          onClick={() => submitHandler()}\n        >\n          Calculate\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default FuForm;","import React from 'react';\nimport styles from './FuResultsModal.module.css';\n\n\nconst getScoringString = (fu: number, han: number, isDealer: boolean) => {\n  if (fu >= 70 && han === 3) {\n    return 'Mangan';\n  } else if (fu >= 40 && han === 4) {\n    return 'Mangan';\n  }\n\n  const roundUp = (num: number) => {\n    return Math.ceil(num / 100) * 100;\n  }\n\n  const basicPoints = (fu * 2**(2 + han));\n\n  if (isDealer) {\n    return `${roundUp(basicPoints * 6)} (${roundUp(basicPoints * 2)})`\n  } else {\n    return `${roundUp(basicPoints * 4)} (${roundUp(basicPoints)}/${roundUp(basicPoints * 2)})`;\n  }\n\n}\n\ntype FuResultsModalProps = {\n  fu: number;\n  closeHandler: (clearForm: boolean) => unknown\n}\n\nfunction FuResultsModal({fu, closeHandler}: FuResultsModalProps) {\n  const roundedUpFu = (fu === 25 ? 25 : Math.ceil(fu / 10) * 10)\n\n  React.useEffect(() => {\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.body.style.overflow = 'auto';\n    }\n  }, []);\n\n  return (\n    <div className={styles.content}>\n      <p className={styles.fuHeader}>{fu} → {roundedUpFu} Fu</p>\n      <hr />\n      <div className={styles.scoringTable}>\n        <div className=\"col\">\n          <p> </p>\n          <p>1 Han</p>\n          <p>2 Han</p>\n          <p>3 Han</p>\n          <p>4 Han</p>\n        </div>\n        <div className=\"col\">\n          <p>Dealer:</p>\n          <p>{getScoringString(roundedUpFu, 1, true)}</p>\n          <p>{getScoringString(roundedUpFu, 2, true)}</p>\n          <p>{getScoringString(roundedUpFu, 3, true)}</p>\n          <p>{getScoringString(roundedUpFu, 4, true)}</p>\n        </div>\n        <div className=\"col\">\n          <p>Non-Dealer:</p>\n          <p>{getScoringString(roundedUpFu, 1, false)}</p>\n          <p>{getScoringString(roundedUpFu, 2, false)}</p>\n          <p>{getScoringString(roundedUpFu, 3, false)}</p>\n          <p>{getScoringString(roundedUpFu, 4, false)}</p>\n        </div>\n      </div>\n      <hr />\n      <div className={styles.options}>\n        <div className={styles.closeOption} onClick={() => closeHandler(false)}>Close</div>\n        <div className={styles.closeAndResetOption} onClick={() => closeHandler(true)}>Close + Reset</div>\n      </div>\n    </div>\n  );\n}\n\nexport default FuResultsModal;\n","import React from 'react';\nimport styles from './App.module.css';\nimport FuForm from './FuForm';\nimport FuResultsModal from './FuResultsModal';\n\nfunction App() {\n  const [fu, setFu] = React.useState<number>(0);\n  const [isModalOpen, setIsModalOpen] = React.useState<boolean>(false);\n  const resetFormRef = React.useRef<() => unknown | null>()\n\n  const formHandler = (calculatedFu: number, resetHandler: () => unknown) => {\n    resetFormRef.current = resetHandler;\n    setFu(calculatedFu);\n    setIsModalOpen(true);\n  }\n\n  const closeHandler = (clearForm: boolean) => {\n    setIsModalOpen(false);\n    if (clearForm) {\n      resetFormRef.current?.();\n    }\n  }\n\n  return (\n    <div className={styles.app}>\n      <FuForm submitFu={formHandler} />\n      <div className={[styles.resultModalContainer, !isModalOpen && styles.resultModalContainerHidden].join(' ')}>\n        {isModalOpen && <FuResultsModal fu={fu} closeHandler={closeHandler} />}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}